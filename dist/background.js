(()=>{"use strict";({136:function(){var t=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(o,c){function r(t){try{s(n.next(t))}catch(t){c(t)}}function a(t){try{s(n.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}s((n=n.apply(t,e||[])).next())}))};function e(t,e){var i,n,o;const c=null!==(o=null===(n=null===(i=t.content_urls)||void 0===i?void 0:i.desktop)||void 0===n?void 0:n.page)&&void 0!==o?o:null;c?chrome.storage.sync.get("isActive",(t=>{const i=t.isActive;chrome.tabs.create({url:c,index:e,active:i}).catch((t=>{console.error("Error fetching data from Wikipedia API in Background:",t)}))})):console.log("No suitable link created.")}function i(){return t(this,void 0,void 0,(function*(){let[t]=yield chrome.tabs.query({active:!0,lastFocusedWindow:!0});return t.index+1}))}chrome.runtime.onMessage.addListener((function(n,o,c){return t(this,void 0,void 0,(function*(){n.wikipediaData&&e(n.wikipediaData,yield i())}))})),chrome.contextMenus.onClicked.addListener((function(n,o){return t(this,void 0,void 0,(function*(){const t=n.selectionText;if(t){let n=t.split(" ");for(let t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].slice(1);const o=`https://en.wikipedia.org/api/rest_v1/page/summary/${null==n?void 0:n.join("_")}`;try{const t=yield fetch(o);e(yield t.json(),yield i())}catch(t){console.error("Error fetching data from Wikipedia API in contentScript:",t)}}}))})),chrome.commands.onCommand.addListener((function(t,e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.scripting.executeScript({target:{tabId:t[0].id?t[0].id:-1},files:["contentScript.js"]})}))})),chrome.contextMenus.create({id:"1",title:'WikiChrome Search: "%s"',contexts:["selection"]})}})[136]()})();